import{db}from"./db.js";export function generatePatientID(e=new Date){const t=db.facility?.regionName?.replace(/[^A-Za-z]/g,"").slice(0,2).toUpperCase()||"RG",a=db.facility?.districtName?.replace(/[^A-Za-z]/g,"").slice(0,3).toUpperCase()||"DST",i=db.facility?.name?.replace(/[^A-Za-z]/g,"").slice(0,2).toUpperCase()||"FC";let n;do{n=String(Math.floor(1e5+9e5*Math.random()))}while(db.patients&&db.patients.some(e=>e.patientID?.includes(n)));const l=(t+a+i+n).split("");for(let e=l.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[l[e],l[t]]=[l[t],l[e]]}let r;if("string"==typeof e){const t=new Date(e);r=String(t.getFullYear()).slice(-2)}else r=String(new Date(e).getFullYear()).slice(-2);return`${l.join("")}${r}`}